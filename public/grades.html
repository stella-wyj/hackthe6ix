<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CourseFlow - Grade Calculator</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" type="image/svg+xml" href="images/logo_full.svg" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;700&display=swap" rel="stylesheet" />
</head>

<body>
  <div class="container">
    <div class="navbar">
      <a href="index.html" class="nav-btn dashboard-btn">
        <img src="images/dashboard_icon.png" alt="Dashboard" />
        <span>Dashboard</span>
      </a>
      <a href="calendar.html" class="nav-btn calendar-btn">
        <img src="images/mingcute_calendar-fill.png" alt="Calendar" />
        <span>Calendar</span>
      </a>
      <a href="grades.html" class="nav-btn grades-btn active">
        <img src="images/mdi_pencil.png" alt="Grades" />
        <span>Grades</span>
      </a>
      <img src="images/cat.png">
    </div>

    <div class="main-section">
      <header class="header">
        <div class="header-left">
          <img src="images/logo_full.svg" alt="Logo" class="logo" />
          <span class="logo-text">CourseFlow</span>
        </div>
        <div class="header-right">
          <img src="images/Frame 15.png" alt="Notifications" />
        </div>
      </header>
      
      <div class="hi">
        <p><b>Hi, Jennifer!</b><br><span>Grade Calculator</span></p>
      </div>

      <main class="main-content">
        <!-- Grade Calculator Section -->
        <section class="grade-calculator">
          <div class="grade-calculator-header">
            <h2>üìä Grade Calculator</h2>
            <p>Track your grades and set goals for each course</p>
            <div class="header-actions">
              <button class="add-course-btn" onclick="showAddCourseModal()">
                <span>+</span> Add Course
              </button>
              <button class="remove-course-btn" onclick="showRemoveCourseModal()">
                <span>üóëÔ∏è</span> Remove Course
              </button>
              <button class="remove-assessment-btn" onclick="showRemoveAssessmentModal()">
                <span>üóëÔ∏è</span> Remove Assessment
              </button>
              <button class="clear-all-btn" onclick="showClearAllModal()">
                <span>üóëÔ∏è</span> Clear All
              </button>
            </div>
          </div>
          
          <div class="grade-calculator-content">
            <!-- Course Tabs -->
            <div class="course-tabs" id="courseTabs">
              <!-- Course tabs will be dynamically generated here -->
            </div>
            
            <!-- No Courses Message -->
            <div id="noCoursesMessage" style="display: none; text-align: center; padding: 40px; color: #666;">
              <h3>No courses found</h3>
              <p>Upload a syllabus to get started with grade tracking!</p>
            </div>
            
            <!-- Course Content -->
            <div id="courseContent" style="display: none;">
              <!-- Current Course Info -->
              <div class="current-course-info">
                <h3>Current Course: <span id="currentCourseName"></span></h3>
              </div>
              
              <!-- Assessments and Grade Input -->
              <div class="assessments-section">
                <div class="assessments-header">
                  <h3>Assessments</h3>
                  <div class="assessments-actions">
                    <button class="add-assessment-btn" onclick="showAddAssessmentModal()">
                      <span>+</span> Add Assessment
                    </button>
                    <div class="goal-grade-section">
                      <label for="goalGradeInput">Goal Grade:</label>
                      <input type="number" id="goalGradeInput" placeholder="Enter goal %" min="0" max="100" />
                      <button onclick="updateGoalGrade()">Set Goal</button>
                    </div>
                  </div>
                </div>
                
                <div class="assessments-list" id="assessmentsList">
                  <!-- Assessments will be dynamically generated here -->
                </div>
                
                <!-- Grade Summary -->
                <div class="grade-summary" id="gradeSummary">
                  <!-- Grade summary will be dynamically generated here -->
                </div>
              </div>
            </div>
          </div>
        </section>
      </main>
        

        
      
    </div>
  </div>

  <!-- Add Course Modal -->
  <div id="addCourseModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Add New Course</h3>
        <span class="close" onclick="closeModal('addCourseModal')">&times;</span>
      </div>
      <div class="modal-body">
        <form id="addCourseForm">
          <div class="form-group">
            <label for="courseName">Course Name:</label>
            <input type="text" id="courseName" required placeholder="e.g., Linear Algebra">
          </div>
          <div class="form-group">
            <label for="courseInstructor">Instructor:</label>
            <input type="text" id="courseInstructor" placeholder="e.g., Dr. Smith">
          </div>
          <div class="form-group">
            <label for="courseColor">Color:</label>
            <input type="color" id="courseColor" value="#4285f4">
          </div>
          <div class="form-actions">
            <button type="button" onclick="closeModal('addCourseModal')">Cancel</button>
            <button type="submit">Add Course</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Add Assessment Modal -->
  <div id="addAssessmentModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Add New Assessment</h3>
        <span class="close" onclick="closeModal('addAssessmentModal')">&times;</span>
      </div>
      <div class="modal-body">
        <form id="addAssessmentForm">
          <div class="form-group">
            <label for="assessmentTitle">Assessment Title:</label>
            <input type="text" id="assessmentTitle" required placeholder="e.g., Assignment 1">
          </div>
          <div class="form-group">
            <label for="assessmentType">Type:</label>
            <select id="assessmentType" required>
              <option value="assignment">Assignment</option>
              <option value="quiz">Quiz</option>
              <option value="midterm">Midterm</option>
              <option value="final">Final</option>
            </select>
          </div>
          <div class="form-group">
            <label for="assessmentWeight">Weight (%):</label>
            <input type="number" id="assessmentWeight" required min="0" max="100" placeholder="e.g., 15">
          </div>
          <div class="form-group">
            <label for="assessmentDueDate">Due Date:</label>
            <input type="date" id="assessmentDueDate">
          </div>
          <div class="form-actions">
            <button type="button" onclick="closeModal('addAssessmentModal')">Cancel</button>
            <button type="submit">Add Assessment</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Remove Course Modal -->
  <div id="removeCourseModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Remove Course</h3>
        <span class="close" onclick="closeModal('removeCourseModal')">&times;</span>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="courseToRemove">Select Course to Remove:</label>
          <select id="courseToRemove" required>
            <option value="">Choose a course...</option>
          </select>
        </div>
        <div class="warning-message">
          <p>‚ö†Ô∏è Warning: This action cannot be undone. All assessments and grades for this course will be permanently deleted.</p>
        </div>
        <div class="form-actions">
          <button type="button" onclick="closeModal('removeCourseModal')">Cancel</button>
          <button type="button" onclick="confirmRemoveCourse()" class="danger-btn">Remove Course</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Remove Assessment Modal -->
  <div id="removeAssessmentModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Remove Assessment</h3>
        <span class="close" onclick="closeModal('removeAssessmentModal')">&times;</span>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="assessmentToRemove">Select Assessment to Remove:</label>
          <select id="assessmentToRemove" required>
            <option value="">Choose an assessment...</option>
          </select>
        </div>
        <div class="warning-message">
          <p>‚ö†Ô∏è Warning: This action cannot be undone. The assessment and its grade will be permanently deleted.</p>
        </div>
        <div class="form-actions">
          <button type="button" onclick="closeModal('removeAssessmentModal')">Cancel</button>
          <button type="button" onclick="confirmRemoveAssessment()" class="danger-btn">Remove Assessment</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Clear All Modal -->
  <div id="clearAllModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Clear All Courses</h3>
        <span class="close" onclick="closeModal('clearAllModal')">&times;</span>
      </div>
      <div class="modal-body">
        <div class="warning-message">
          <p>‚ö†Ô∏è <strong>DANGER:</strong> This action will permanently delete ALL courses and ALL assessments from your grade calculator.</p>
          <p>This action cannot be undone. Are you absolutely sure you want to clear everything?</p>
        </div>
        <div class="form-actions">
          <button type="button" onclick="closeModal('clearAllModal')">Cancel</button>
          <button type="button" onclick="confirmClearAll()" class="danger-btn">Clear All Courses</button>
        </div>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
  <script>
    // Initialize grade calculator when grades page loads
    document.addEventListener('DOMContentLoaded', function() {
      loadGradeCalculatorData();
    });
  </script>
</body>
</html>
